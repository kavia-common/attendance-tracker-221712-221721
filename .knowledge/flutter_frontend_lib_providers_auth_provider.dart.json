{"is_source_file": true, "format": "Dart", "description": "This file defines an AuthProvider class for managing user authentication state in a Flutter application. It handles login, session restore, and logout functionalities, interacts with shared preferences for persistent storage, and communicates with an API client for authentication requests.", "external_files": ["package:flutter/foundation.dart", "package:shared_preferences/shared_preferences.dart", "../models/user.dart", "../services/api_client.dart"], "external_methods": ["SharedPreferences.getInstance", "SharedPreferences.setString", "SharedPreferences.getString", "SharedPreferences.remove", "ApiClient.login"], "published": ["AuthProvider", "AuthProvider.login", "AuthProvider.restore", "AuthProvider.logout", "AuthProvider.user", "AuthProvider.isAuthenticated", "AuthProvider.loading", "AuthProvider.error"], "classes": [{"name": "AuthProvider", "description": "A ChangeNotifier that manages user authentication state, handles login, restore, and logout operations, and persists user data using shared preferences."}], "methods": [{"name": "login", "description": "Performs login via API endpoint, saves user info and token to shared preferences, updates internal state, and notifies listeners."}, {"name": "restore", "description": "Restores user session from shared preferences if token exists, updates internal state, and notifies listeners."}, {"name": "logout", "description": "Clears user session, removes stored data from shared preferences, and notifies listeners."}], "calls": ["notifyListeners", "SharedPreferences.getInstance", "SharedPreferences.setString", "SharedPreferences.getString", "SharedPreferences.remove", "ApiClient.login"], "search-terms": ["AuthProvider", "session restore", "shared preferences login", "Flutter authentication", "Token storage", "AuthState management"], "state": 2, "file_id": 24, "knowledge_revision": 72, "git_revision": "", "revision_history": [{"51": ""}, {"72": ""}], "hash": "c76bafa190526b22af39743cb5f68905", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/providers/auth_provider.dart"}