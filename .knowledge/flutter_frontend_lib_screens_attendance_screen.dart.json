{"is_source_file": true, "format": "Dart", "description": "This file defines the 'AttendanceScreen' widget for a Flutter application, implementing attendance management functionality for both teachers and students. It handles class selection, session scheduling, attendance marking, and real-time updates.", "external_files": ["../state/auth_provider.dart", "../state/attendance_provider.dart", "../widgets/attendance_card.dart", "package:flutter/material.dart", "package:intl/intl.dart", "package:provider/provider.dart"], "external_methods": ["context.read<AuthProvider>()", "context.read<AttendanceProvider>()", "WidgetsBinding.instance.addPostFrameCallback()", "showDatePicker(...)", "p.loadClasses()", "p.loadSessionsForDate(...)", "p.createSession(...)", "p.createClass(...)", "p.subscribeRealtime(...)", "p.loadAttendance(...)", "p.markAttendance(...)", "p.enrollInClass(...)"], "published": ["AttendanceScreen"], "classes": [{"name": "AttendanceScreen", "description": "A StatefulWidget that displays attendance management UI for teachers and students, handling class/session selection, attendance marking, and data loading."}], "methods": [{"name": "initState", "description": "Initializes state, checks authentication, and loads initial class data for teachers."}, {"name": "dispose", "description": "Disposes controllers to free resources."}, {"name": "_pickDate", "description": "Shows a date picker and loads sessions for the selected date."}, {"name": "_createSession", "description": "Creates a new attendance session for the selected class and date/time range."}, {"name": "_createClass", "description": "Creates a new class with the specified name."}, {"name": "_teacherView", "description": "Builds the UI components for teachers, including class/session management and attendance marking."}, {"name": "_studentView", "description": "Builds the UI components for students, including class enrollment and attendance viewing."}, {"name": "build", "description": "Builds the widget tree depending on user role, with loading indicators and appropriate UI for teacher/student."}], "calls": ["context.read<AuthProvider>()", "context.read<AttendanceProvider>()", "WidgetsBinding.instance.addPostFrameCallback", "showDatePicker", "p.loadClasses", "p.loadSessionsForDate", "p.createSession", "p.createClass", "p.subscribeRealtime", "p.loadAttendance", "p.markAttendance", "p.enrollInClass"], "search-terms": ["attendance management", "Flutter attendance screen", "session scheduling", "teacher attendance control", "student attendance view", "realtime updates", "class creation", "session creation"], "state": 2, "file_id": 28, "knowledge_revision": 69, "git_revision": "", "revision_history": [{"57": ""}, {"69": ""}], "hash": "1c0f27e7af7407a414a45c2b31986104", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/screens/attendance_screen.dart"}